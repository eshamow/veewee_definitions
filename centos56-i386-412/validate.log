Feature: vagrant box validation
  As a valid vagrant box
  I need to comply to a set of rules

  Scenario: Checking login                                    # /opt/local/lib/ruby/gems/1.8/gems/veewee-0.2.0/lib/veewee/../../validation/vagrant.feature:5
.    When I ssh to "127.0.0.1" with the following credentials: # veewee-0.2.0/validation/features/steps/ssh_steps.rb:56
      | username | password | port |
      | vagrant  | vagrant  | 7222 |
    And I run "whoami"                                        # veewee-0.2.0/validation/features/steps/ssh_steps.rb:98
      done!
      vagrant
    Then I should see "vagrant" in the output                 # veewee-0.2.0/validation/features/steps/ssh_steps.rb:167

  Scenario: Checking sudo                                     # /opt/local/lib/ruby/gems/1.8/gems/veewee-0.2.0/lib/veewee/../../validation/vagrant.feature:12
.    When I ssh to "127.0.0.1" with the following credentials: # veewee-0.2.0/validation/features/steps/ssh_steps.rb:56
      | username | password | port |
      | vagrant  | vagrant  | 7222 |
    And I run "sudo whoami"                                   # veewee-0.2.0/validation/features/steps/ssh_steps.rb:98
      done!
      root
    Then I should see "root" in the output                    # veewee-0.2.0/validation/features/steps/ssh_steps.rb:167

  Scenario: Checking ruby                                                          # /opt/local/lib/ruby/gems/1.8/gems/veewee-0.2.0/lib/veewee/../../validation/vagrant.feature:19
.    When I ssh to "127.0.0.1" with the following credentials:                      # veewee-0.2.0/validation/features/steps/ssh_steps.rb:56
      | username | password | port |
      | vagrant  | vagrant  | 7222 |
    And I run ". /etc/profile ;ruby --version 2> /dev/null 1> /dev/null;  echo $?" # veewee-0.2.0/validation/features/steps/ssh_steps.rb:98
      done!
      0
    Then I should see "0" in the output                                            # veewee-0.2.0/validation/features/steps/ssh_steps.rb:167

  Scenario: Checking gem                                                          # /opt/local/lib/ruby/gems/1.8/gems/veewee-0.2.0/lib/veewee/../../validation/vagrant.feature:26
.    When I ssh to "127.0.0.1" with the following credentials:                     # veewee-0.2.0/validation/features/steps/ssh_steps.rb:56
      | username | password | port |
      | vagrant  | vagrant  | 7222 |
    And I run ". /etc/profile; gem --version 2> /dev/null 1> /dev/null ; echo $?" # veewee-0.2.0/validation/features/steps/ssh_steps.rb:98
      done!
      0
    Then I should see "0" in the output                                           # veewee-0.2.0/validation/features/steps/ssh_steps.rb:167

  Scenario: Checking chef                                                               # /opt/local/lib/ruby/gems/1.8/gems/veewee-0.2.0/lib/veewee/../../validation/vagrant.feature:33
.    When I ssh to "127.0.0.1" with the following credentials:                           # veewee-0.2.0/validation/features/steps/ssh_steps.rb:56
      | username | password | port |
      | vagrant  | vagrant  | 7222 |
    And I run ". /etc/profile ;chef-client --version 2> /dev/null 1>/dev/null; echo $?" # veewee-0.2.0/validation/features/steps/ssh_steps.rb:98
      done!
      127
    Then I should see "0" in the output                                                 # veewee-0.2.0/validation/features/steps/ssh_steps.rb:167
      expected: /0/
           got: "127\r\n" (using =~)
      Diff:
      @@ -1,2 +1,2 @@
      -/0/
      +127
       (RSpec::Expectations::ExpectationNotMetError)

  Scenario: Checking puppet                                                         # /opt/local/lib/ruby/gems/1.8/gems/veewee-0.2.0/lib/veewee/../../validation/vagrant.feature:40
.    When I ssh to "127.0.0.1" with the following credentials:                       # veewee-0.2.0/validation/features/steps/ssh_steps.rb:56
      | username | password | port |
      | vagrant  | vagrant  | 7222 |
    And I run ". /etc/profile ; puppet --version 2> /dev/null 1>/dev/null; echo $?" # veewee-0.2.0/validation/features/steps/ssh_steps.rb:98
      done!
      126
    Then I should see "0" in the output                                             # veewee-0.2.0/validation/features/steps/ssh_steps.rb:167
      expected: /0/
           got: "126\r\n" (using =~)
      Diff:
      @@ -1,2 +1,2 @@
      -/0/
      +126
       (RSpec::Expectations::ExpectationNotMetError)

  Scenario: Checking shared folders                           # /opt/local/lib/ruby/gems/1.8/gems/veewee-0.2.0/lib/veewee/../../validation/vagrant.feature:47
.    When I ssh to "127.0.0.1" with the following credentials: # veewee-0.2.0/validation/features/steps/ssh_steps.rb:56
      | username | password | keyfile             | port |
      | vagrant  | vagrant  | vagrant-private.key | 7222 |
    And I run "mount|grep veewee-validation"                  # veewee-0.2.0/validation/features/steps/ssh_steps.rb:98
      done!
      veewee-validation on /media/sf_veewee-validation type vboxsf (gid=501,rw)
    Then I should see "veewee-validation" in the output       # veewee-0.2.0/validation/features/steps/ssh_steps.rb:167

Failing Scenarios:
cucumber /opt/local/lib/ruby/gems/1.8/gems/veewee-0.2.0/lib/veewee/../../validation/vagrant.feature:33 # Scenario: Checking chef
cucumber /opt/local/lib/ruby/gems/1.8/gems/veewee-0.2.0/lib/veewee/../../validation/vagrant.feature:40 # Scenario: Checking puppet

7 scenarios (2 failed, 5 passed)
21 steps (2 failed, 19 passed)
0m0.876s
